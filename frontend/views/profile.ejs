<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile Settings</title>
    <link rel="icon" href="/assets/colosseumLogo.png" type="image/x-icon">
    <link rel="stylesheet" href="/assets/css/playerProfile.css">
</head>
<body>
    <div class="profile-picture-container">
        <div class="profile-picture">
            <% if (user && user.image && user.image.data) { %>
                <img src="data:<%= user.image.contentType %>;base64,<%= user.image.data.toString('base64') %>" alt="Profile Picture" id="profileImage">
            <% } else { %>
                <img src="/images/default-profile.png" alt="Default Profile Picture" id="profileImage">
            <% } %>
            <button type="button" class="edit-button" id="editPictureButton">Edit</button>
        </div>
    </div>
    <div class="container">
        <div class="profile-container">
            <form id="profileForm" method="POST" action="/api/player/updateUsername" >
                <div class="form-group">
                    <label for="name">Username</label>
                    <input type="text" id="username" name="username" value="<%= user ? user.username : '' %>" placeholder="Enter your name" required>
                </div>
                <div class="form-group">
                    <button type="submit" class="save-button" id="saveButton">Update</button>
                </div>
            </form>
            <form id="emailForm" method="POST" action="/api/player/updateEmail">
                <div class="form-group">
                    <label for="email">Email</label>
                    <input type="email" id="email" name="email" value="<%= user ? user.email : '' %>" placeholder="Enter your email" required>
                </div>
                <div class="form-group">
                    <button type="submit" class="save-button" id="saveEmailButton">Save</button>
                </div>
            </form>
            
            <form id="profileForm" method="POST" action="/api/player/updatePassword" >
                <div class="form-group">
                    <label for="currentPassword">Current Password</label>
                    <input type="password" id="currentPassword" name="currentPassword" placeholder="Enter your current password" required>
                </div>
                <div class="form-group">
                    <label for="newPassword">New Password</label>
                    <input type="password" id="newPassword" name="newPassword" placeholder="Enter your new password">
                </div>
                <div class="form-group">
                    <button type="submit" class="save-button" id="saveButton">Save</button>
                </div>
            </form>

            <form id="createTeamForm" method="POST" action="/api/team/create">
                <input type="text" name="name" placeholder="Team Name" required />
                <button type="submit" class="save-button" id="saveButton">Create Team</button>
            </form>
            
            
            <form id="leaveTeamForm" method="POST" action="/api/team/leave" >
                <button type="submit" class="save-button" id="saveButton">Leave Team</button>
            </form>
            <form id="updateTeamNameForm" method="POST" action="/api/team/updateTeamName">
                <label for="newName">New Team Name:</label>
                <input type="text" id="newName" name="newName" required placeholder="Enter New Team Name" />
            
                <button type="submit" class="save-button" id="updateButton">Update Team Name</button>
            </form> 
            
            
        </div>
    </div>

    <!-- Hidden file input for image upload -->
    <input type="file" id="file-input" style="display: none;" accept="image/*">

    <!-- Modal for Image Options -->
    <!-- <div class="modal" id="modal">
        <div class="modal-content">
            <button type="button" class="change-picture" id="changePictureButton">Change Picture</button><br>
            <button type="button" class="remove-picture" id="removePictureButton">Remove Picture</button><br>
            <button type="button" class="close" id="closeModalButton">Close</button>
        </div> -->
    </div>
 
</body>