<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Player Search Results</title>
    <link rel="icon" href="/assets/colosseumLogo.png" type="image/x-icon">
    <link rel="stylesheet" href="/assets/css/searchPlayer.css">
</head>
<body>
    <div class="navBar">
        <h1 class="adminDashText">Player Search Results</h1>
    </div>

    <div class="main-container">
        <% if (players.length > 0) { %>
            <% players.forEach(player => { %>
                <div class="player-card">
                    <h2>Player Username: <%= player.username %></h2>
                    <img src="<%= player.profilePhoto || '/assets/default-profile.png' %>" alt="<%= player.username %>'s Profile Photo" class="profile-photo">
                    <p><strong>Email:</strong> <%= player.email %></p>

                    <strong>Team:</strong>
                    <p><%= player.team ? player.team.name : 'No team assigned' %></p>
                    
                    <strong>Tournaments:</strong>
                    <ul>
                        <% if (player.tournaments.length > 0) { %>
                            <% player.tournaments.forEach(entry => { %>
                                <li>
                                    <%= entry.tournament.name %> 
                                    (<%= entry.won ? 'Won' : 'Participating' %>)
                                </li>
                            <% }); %>
                        <% } else { %>
                            <li>No tournaments found</li>
                        <% } %>
                    </ul>
                </div>
            <% }); %>
        <% } else { %>
            <p>No players found matching your search.</p>
        <% } %>
    </div>
</body>
</html>
